// Copyright 2024 Google LLC
//
// Licensed under the Apache License, Version 2.0 (the "License");
// you may not use this file except in compliance with the License.
// You may obtain a copy of the License at
//
//      https://www.apache.org/licenses/LICENSE-2.0
//
// Unless required by applicable law or agreed to in writing, software
// distributed under the License is distributed on an "AS IS" BASIS,
// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
// See the License for the specific language governing permissions and
// limitations under the License.

// Generated by the C++ microgenerator.
// If you make any local changes, they will be lost.
// file:///workspace/generator/discovery/bigquery_public_google_rest_v2.json
// revision: 20240124

syntax = "proto3";

package google.cloud.cpp.bigquery.v2;

import "google/cloud/bigquery/v2/internal/common_016.proto";

// Response message for the ListRowAccessPolicies method.
message ListRowAccessPoliciesResponse {
  // A token to request the next page of results.
  optional string next_page_token = 1 [json_name = "nextPageToken"];

  // Row access policies on the requested table.
  repeated RowAccessPolicy row_access_policies = 2
      [json_name = "rowAccessPolicies"];
}

// Represents access on a subset of rows on the specified table, defined by its
// filter predicate. Access to the subset of rows is controlled by its IAM
// policy.
message RowAccessPolicy {
  // Output only. The time when this row access policy was created, in
  // milliseconds since the epoch.
  optional string creation_time = 1 [json_name = "creationTime"];

  // Output only. A hash of this resource.
  optional string etag = 2 [json_name = "etag"];

  // Required. A SQL boolean expression that represents the rows defined by this
  // row access policy, similar to the boolean expression in a WHERE clause of a
  // SELECT query on a table. References to other tables, routines, and
  // temporary functions are not supported. Examples: region="EU" date_field =
  // CAST('2019-9-27' as DATE) nullable_field is not NULL numeric_field BETWEEN
  // 1.0 AND 5.0
  optional string filter_predicate = 3 [json_name = "filterPredicate"];

  // Output only. The time when this row access policy was last modified, in
  // milliseconds since the epoch.
  optional string last_modified_time = 4 [json_name = "lastModifiedTime"];

  // Required. Reference describing the ID of this row access policy.
  optional RowAccessPolicyReference row_access_policy_reference = 5
      [json_name = "rowAccessPolicyReference"];
}
