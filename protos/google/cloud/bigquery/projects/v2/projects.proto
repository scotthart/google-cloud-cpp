// Copyright 2024 Google LLC
//
// Licensed under the Apache License, Version 2.0 (the "License");
// you may not use this file except in compliance with the License.
// You may obtain a copy of the License at
//
//      https://www.apache.org/licenses/LICENSE-2.0
//
// Unless required by applicable law or agreed to in writing, software
// distributed under the License is distributed on an "AS IS" BASIS,
// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
// See the License for the specific language governing permissions and
// limitations under the License.

// Generated by the C++ microgenerator.
// If you make any local changes, they will be lost.
// file:///workspace/generator/discovery/bigquery_public_google_rest_v2.json
// revision: 20240124

syntax = "proto3";

package google.cloud.cpp.bigquery.projects.v2;

import "google/api/annotations.proto";
import "google/api/client.proto";
import "google/api/field_behavior.proto";
import "google/cloud/bigquery/v2/internal/common_011.proto";

// Service for the projects resource.
// https://cloud.google.com/bigquery/docs/reference/rest/v2/projects
service Projects {
  option (google.api.default_host) = "bigquery.googleapis.com";
  option (google.api.oauth_scopes) =
      "https://www.googleapis.com/auth/bigquery,"
      "https://www.googleapis.com/auth/cloud-platform,"
      "https://www.googleapis.com/auth/cloud-platform.read-only";

  // RPC to get the service account for a project used for interactions with
  // Google Cloud KMS
  // https://cloud.google.com/bigquery/docs/reference/rest/v2/projects/getServiceAccount
  rpc GetServiceAccount(GetServiceAccountRequest)
      returns (google.cloud.cpp.bigquery.v2.GetServiceAccountResponse) {
    option (google.api.http) = {
      get: "/bigquery/v2/projects/{project_id}/serviceAccount"
    };
    option (google.api.method_signature) = "project_id";
  }

  // RPC to list projects to which the user has been granted any project role.
  // Users of this method are encouraged to consider the [Resource
  // Manager](https://cloud.google.com/resource-manager/docs/) API, which
  // provides the underlying data for this method and has more capabilities.
  // https://cloud.google.com/bigquery/docs/reference/rest/v2/projects/list
  rpc ListProjects(ListProjectsRequest)
      returns (google.cloud.cpp.bigquery.v2.ProjectList) {
    option (google.api.http) = {
      get: "/bigquery/v2/projects"
    };
  }
}

// Request message for GetServiceAccount.
message GetServiceAccountRequest {
  // Required. ID of the project.
  string project_id = 1
      [(google.api.field_behavior) = REQUIRED, json_name = "projectId"];
}

// Request message for ListProjects.
message ListProjectsRequest {
  // `maxResults` unset returns all results, up to 50 per page. Additionally,
  // the number of projects in a page may be fewer than `maxResults` because
  // projects are retrieved and then filtered to only projects with the BigQuery
  // API enabled.
  optional uint32 max_results = 1 [json_name = "maxResults"];

  // Page token, returned by a previous call, to request the next page of
  // results. If not present, no further pages are present.
  optional string page_token = 2 [json_name = "pageToken"];
}
